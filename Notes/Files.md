# Робота з файлами

#### Ось деякі поради та покращення для коду, що має операції читання файлів

+ Перевірка наявності файлу:
    - Додайте перевірку наявності файлу перед спробою читання. Це дозволить уникнути помилок, якщо файл не існує.
+ Обробка помилок асинхронного читання:
    - Обережно обробляйте помилки під час асинхронного читання файлів.
    - Якщо ви використовуєте throw error, то краще було б вивести помилку і продовжити виконання програми, а не призупиняти її роботу.
    - Ви можете використовувати конструкцію try...catch для цього.
+ Закриття файлу:
    - Якщо ви використовуєте синхронне читання файлу, то необхідно закрити файл після читання.
    - Ви можете це зробити, використовуючи fs.closeSync().

**Приклад читання двох файлів:**

```javascript
// node filefs.js
const fs = require("fs");

console.log("Початок роботи модуля FS.")

// Асинхронне читання
fs.readFile("files/hitestasync.txt", "utf8", (error, data) => {
    if (error) {
        console.error("Помилка асинхронного читання файлу:", error);
    } else {
        console.log("Відбувається асинхронне читання файлу");
        console.log(data); // Виводимо считані дані
    }
});

// Синхронне читання
try {
    console.log("Відбувається синхронне читання файлу");
    let fileContent = fs.readFileSync("files/hitestsync.txt", "utf8");
    console.log(fileContent);
} catch (error) {
    console.error("Помилка синхронного читання файлу:", error);
}
```

_І тут варто звернути увагу, що незважаючи на те, що функція ``fs.readFile()`` викликається першою, але оскільки вона асинхронна, вона не блокує потік виконання, тому результат виводиться в самому кінці._

**Додаємо в приклад операцію по запису у файл**

Як допоміжний параметр у функцію може передаватися функція зворотного виклику, яка виконується після завершення запису:

```javascript

```

> Операція fs.writeFile перезапише вміст файлу новими даними. Тобто, якщо файл writeasync.txt вже існує, то вміст файлу буде замінений на новий, який ви передаєте у функцію fs.writeFile. Якщо файл не існує, він буде створений, і в нього буде записаний новий вміст.











